<!DOCTYPE html>
<html lang="de">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"
    />

    <link rel="stylesheet" type="text/css" href="Style/spicestyle.css" />

    <title>Zeichentool</title>
  </head>
  <body>
    <div class="container-fluid">
      <div class="d-flex justify-content-center my-1">
        <div class="d-flex justify-content-center mx-1">
          <!-- Modal Open Buttons -->
          <div class="input-group">
            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="modal"
              data-bs-target="#docsModal"
              title="Dokumentation"
            >
              Docs
            </button>

            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="modal"
              data-bs-target="#complexModal"
              title="Einstellungen"
            >
              <i class="bi bi-border-style"></i>
            </button>
          </div>
        </div>
        <div class="d-flex justify-content-center mx-1">
          <!-- Basic Paint Tools -->
          <div class="input-group">
            <input
              type="color"
              class="form-control form-control-color"
              style="width: 60px"
              id="BasicToolColorInput"
              value="#000000"
              title="Choose your color"
            />

            <button
              type="button"
              id="basic-tool"
              class="btn btn-secondary"
              data-bs-toggle="tooltip"
              data-bs-placement="bottom"
              title="Basic Tools"
            >
              <i id="tool-icon" class="bi bi-pencil"></i>
            </button>

            <div class="btn-group-vertical">
              <button
                type="button"
                id="basic-tool-bigger"
                class="btn btn-secondary"
                style="font-size: 7px; padding: 3px 6px"
                data-bs-toggle="tooltip"
                data-bs-placement="bottom"
                title="bigger"
              >
                <i class="bi bi-arrow-up"></i>
              </button>
              <button
                type="button"
                id="basic-tool-smaller"
                class="btn btn-secondary"
                style="font-size: 7px; padding: 3px 6px"
                data-bs-toggle="tooltip"
                data-bs-placement="bottom"
                title="smaller"
              >
                <i class="bi bi-arrow-down"></i>
              </button>
            </div>

            <button
              id="clear-context"
              type="button"
              class="btn btn-secondary"
              data-bs-toggle="tooltip"
              data-bs-placement="bottom"
              title="Trash"
            >
              <i class="bi bi-trash"></i>
            </button>
          </div>
        </div>

        <div class="d-flex justify-content-center mx-1">
          <!-- Create Stuff -->
          <div class="input-group">
            <button
              id="create-textfield"
              type="button"
              class="btn btn-secondary"
              data-bs-toggle="tooltip"
              data-bs-placement="bottom"
              title="Textarea"
            >
              <i class="bi bi-textarea-t"></i>
            </button>
            <button
              id="create-vektor"
              type="button"
              class="btn btn-secondary"
              data-bs-toggle="tooltip"
              data-bs-placement="bottom"
              title="Vektor"
            >
              <i class="bi bi-arrow-up-right"></i>
            </button>
            <button
              id="create-line"
              type="button"
              class="btn btn-secondary"
              data-bs-toggle="tooltip"
              data-bs-placement="bottom"
              title="Line"
            >
              <i class="bi bi-slash"></i>
            </button>
          </div>
        </div>

        <div class="d-flex justify-content-center mx-1">
          <div class="input-group">
            <button
              id="save"
              type="button"
              class="btn btn-secondary"
              data-bs-toggle="tooltip"
              data-bs-placement="bottom"
              title="speichern"
            >
              <i class="bi bi-save"></i>
            </button>
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-toggle="modal"
              data-bs-target="#saveModal"
              title="Einstellungen"
            >
              <i class="bi bi-clipboard-data"></i>
            </button>
          </div>
        </div>
      </div>

      <!--<div class="alert alert-warning alert-dismissible fade show" role="alert">
        <strong>Holy guacamole!</strong> You should check in on some of those
        fields below.
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>

      <div
        class="input-group input-group-sm mb-3 cursor-pointer"
        title="Using input value"
      ></div>-->

      <!-- Modal for Docs-->
      <div
        class="modal fade"
        id="docsModal"
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-dialog-scrollable modal-xl">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Dokumentation</h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>

            <div class="modal-body">
              <div class="row d-flex justify-content-center">
                <h5>Basic Tools</h5>
                <p>
                  Das ist die integrierte Eingabemöglichkeit des Protokolls. Sie
                  besteht aus zwei grundlegenden Bereichen dem Bedienfeld und
                  dem Zeichenfeld. Das Bedienfeld ist in vier Bereiche
                  unterteilt, diese werden später genauer beschrieben. Das
                  Zeichenfeld ist der rot umrahmte Bereich. Die erste graue
                  Buttonbox befasst sich mit der handschriftlichen Bearbeitung
                  des Zeichenfeldes. Hier können für die Werkzeuge Stift und
                  Radiergummi die Breite eingestellt werden (Hinweis: Die Breite
                  bezieht sich auf beide Werkzeuge). Außerdem ist es möglich die
                  Minenfarbe des Stiftes einzustellen. Der Button mit dem
                  Mülleimericon löscht lediglich den Handbeschriebenen Layer.
                </p>
              </div>

              <div class="row d-flex justify-content-center">
                <h5>Creation Tools</h5>
                <strong>Hilfe zur Textfeldfuntion:</strong>
                <p>
                  Mit betätigung der Schaltfläche "Textarea" erscheint ein
                  solches in dem Zeichenfeld. Das Zeichenfeld wird mit einem
                  Doppelklick in den Bearbeitungsmodus versetzt. Daraufhin
                  verschwindet der Blaue Rahmen und die zwei runden
                  Schaltflächen. Jetzt kann der Text bearbeitet werden. Ein
                  Zeilenumbruch kann mit der Tastenkombination Shift+Enter
                  eingefügt werden. Die Höhe des Textfeldes wird automatisch an
                  den Inhalt angepasst. Ist man mit dem bearbeiten des Textes
                  fertig, so bestätigt man seine eingabe mit Enter. Mithilfe des
                  kleinen Rechtecks am rechten Rand kann die Breite festgelegt
                  werden. Und mit dem anderen kann der Text um den eigenen
                  Mittelpunkt gedreht werden. Die rote Schaltfläche löscht das
                  dazugehörige Textfeld. Mit dem grauen Button kann der blaue
                  Rahmen, falls nötig, versteckt werden.
                </p>

                <img
                  class="mb-4"
                  src="Data/BasicHelp.gif"
                  style="width: 50%"
                  alt="..."
                />

                <strong>Hilfe zu der Vektorenfunktion:</strong>
                <p>
                  Ein Vektor mit Label wird nach Klick auf die Schaltfläche
                  "Vektor" erschienen. Mit einem Doppelcklick auf das Label kann
                  der Name des Vektors festgelegt werden. Nach drücken der
                  Entertaste wird der Name übernommen. Der Vektor kann als
                  ganzer im Zeichenfeld verschoben werden. Mit der grauen Fläche
                  an der Spitze kann Betrag und Phase des Vektors eingestellt
                  werden. Mit einem Doppelclick auf den Vektor wird dieser samt
                  Label gelöscht.
                </p>

                <img
                  class="mb-4"
                  src="Data/BasicHelp.gif"
                  style="width: 50%"
                  alt="..."
                />

                <strong>Hilfe zu der Geradenfunktion:</strong>
                <p>
                  Mit einem Klick auf den entsprechenden Button erscheint eine
                  Gerade im Zeichenfeld. Die Gerade hat an ihren beiden Enden
                  zwei individuell bewegbare graue, schwarz umrandete Flächen.
                  Durch deren Mittelpunkte ist die Gerade definiert. Mit dem
                  bunten Knopf an oberen Rand kann die Farbe Zufällig verändert
                  werden. Die rote Schaltfläche löscht die Gerade.
                </p>

                <img
                  class="mb-4"
                  src="Data/BasicHelp.gif"
                  style="width: 50%"
                  alt="..."
                />
              </div>
              <div class="modal-body">
                <div class="row d-flex justify-content-center">
                  <h5>Advanced Tools</h5>
                  <strong>Hilfe zu der Ladefunktion:</strong>
                  <p>
                    Nach auswahl eines eigenen Bildes wird dieses formatfüllend
                    im Zeichenfeld dargestellt. Ein geladenes Bild ist in jedem
                    Fall als solches ersichtlich.
                  </p>
                </div>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal for SaveGames-->
      <div
        class="modal fade"
        id="saveModal"
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-dialog-scrollable modal-xl">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Speicherstände</h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>

            <div id="savegames" class="modal-body"></div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal for complex functions-->
      <div
        class="modal fade"
        id="complexModal"
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-dialog-scrollable modal-xl">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">
                Advanced Settings
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <div class="col">
                <!--Hintergrund Einstellungen-->
                <label for="hintergrund"><strong>Hintergrund:</strong></label>
                <div class="input-group mb-3">
                  <select
                    id="hintergrund"
                    class="form-select form-select-sm"
                    aria-label="Hintergrundbild"
                  >
                    <option title="" value="7">Kariert</option>
                    <option title="" value="6">Linien</option>
                    <option title="" value="8">Millimeter</option>

                    <option title="" value="0">KOS 0 (R)</option>
                    <option title="" value="1">KOS 1 (VDR)</option>
                    <option title="" value="2">
                      KOS 2 (Batterie und Netzteil)
                    </option>
                    <option title="" value="4">KOS 3 (Solarzelle)</option>
                    <option title="" value="10">KOS 4 (Kondensator)</option>
                    <option title="" value="11">KOS 5 (Impedanz)</option>
                    <option title="" value="12">KOS 6 (Amp/log)</option>
                    <option title="" value="13">KOS 7 (phi/log)</option>

                    <option title="" value="5">Osziloskop (DIV)</option>
                    <option title="" value="9">Osziloskop (Magnetisch)</option>

                    <script type="text/javascript">
                      var einheitenInfo = [
                        " (Abzisse U in V, Ordinate I in mA)",
                        " (Abzisse U in V, Ordinate I in uA)",
                        " (Abzisse U in V, Ordinate I in A)",
                        " (Hintergung nicht Kalibriert)",
                        " (Abzisse U in V, Ordinate I in mA)",
                        " (Einstellungen je Oszi)",
                        " (Hintergung nicht Kalibriert)",
                        " (Hintergung nicht Kalibriert)",
                        " (Hintergung nicht Kalibriert)",
                        " (Einstellungen je Oszi)",
                        " (Abzisse U in V, Ordinate t in s)",
                        " (Abzisse Z in Ohm, Ordinate f in Hz)",
                        " (Abzisse A in dB, Ordinate f in kHz)",
                        " (Abzisse phi in °, Ordinate f in kHz)",
                      ];
                      var sources = [
                        "Data/P1_4.svg",
                        "Data/P1_3.svg",
                        "Data/P2_10.svg",
                        "Data/P2_11.svg",
                        "Data/P2_11.svg",
                        "Data/P3.svg",
                        "Data/grid.png",
                        "Data/invisible.svg",
                        "Data/mill_norm_a4.svg",
                        "Data/P3_7.svg",
                        "Data/P3_9.svg",
                        "Data/P4_3.svg",
                        "Data/mill_log_a4_achsen_einzeln_A.svg",
                        "Data/mill_log_a4_achsen_einzeln_phi.svg",
                      ];
                      //             0      1           2           3                4          5           6              7             8                9           10          11                12                                 13
                    </script>
                  </select>
                  <div class="image-upload">
                    <label
                      for="file-input-pic"
                      class="btn btn-outline-secondary"
                      title="Lade Hintergrundbild"
                    >
                      <i class="bi bi-images" style="cursor: pointer"></i>
                    </label>
                    <input
                      id="file-input-pic"
                      accept="image/*"
                      class="d-none"
                      type="file"
                    />
                  </div>
                </div>

                <!--CSV Data Einstellungen-->
                <div class="mb-3">
                  <label class="form-label"><strong>CH-1:</strong></label>
                  <div class="input-group">
                    <input
                      id="csv-file-input-1"
                      type="file"
                      accept=".csv"
                      class="form-control"
                      id="inputGroupFile04"
                      aria-describedby="inputGroupFileAddon04"
                      aria-label="Upload"
                    />
                    <input
                      id="quali-1"
                      type="range"
                      class="form-range"
                      min="121"
                      max="8001"
                      value="8001"
                      id="customRange2"
                    />
                  </div>

                  <div class="d-flex align-items-center" id="LoadingAniCH1">
                    Loading...
                    <div
                      class="spinner-border ms-auto"
                      role="status"
                      aria-hidden="true"
                    ></div>
                  </div>

                  <hr />
                  <label class="form-label"><strong>CH-2:</strong></label>
                  <div class="input-group">
                    <input
                      id="csv-file-input-2"
                      type="file"
                      accept=".csv"
                      class="form-control"
                      id="inputGroupFile04"
                      aria-describedby="inputGroupFileAddon04"
                      aria-label="Upload"
                    />
                    <input
                      id="quali-2"
                      type="range"
                      class="form-range"
                      min="121"
                      max="8001"
                      value="8001"
                      id="customRange2"
                    />
                  </div>
                  <div class="d-flex align-items-center" id="LoadingAniCH2">
                    Loading...
                    <div
                      class="spinner-border ms-auto"
                      role="status"
                      aria-hidden="true"
                    ></div>
                  </div>

                  <hr />
                </div>
                <!--Download ZT-->
                <label class="form-label"><strong>Download:</strong></label>
                <div class="input-group mb-3">
                  <input
                    id="exportInput"
                    type="text"
                    class="form-control"
                    placeholder="Download as..."
                    aria-label="Download as..."
                    aria-describedby="button-addon2"
                  />
                  <button
                    id="exportButton"
                    class="btn btn-outline-secondary"
                    type="button"
                    id="button-addon2"
                  >
                    <i class="bi bi-download"></i>
                  </button>
                </div>
                <!--Wertetabellen-->
                <label class="form-label"
                  ><strong>Wertetabellen:</strong
                  ><span id="wertetabellenInfo"></span
                ></label>

                <div class="d-flex justify-content-center mb-3">
                  <button id="newTable" type="button" class="btn btn-primary">
                    <i class="bi bi-table"></i>
                  </button>
                </div>

                <div class="row" id="tableTable">
                  <div class="col-sm-12 col-md-6 col-lg-4 col-xl-3 mb-3">
                    <div class="input-group input-group-sm">
                      <span class="input-group-text" id="basic-addon1"
                        >Graph</span
                      >
                      <input
                        id="graph-name0"
                        type="text"
                        class="form-control"
                        value="Resistor"
                        placeholder="Resistor"
                        aria-label="Username"
                        aria-describedby="basic-addon1"
                      />
                    </div>
                    <table id="dataTable0" class="table table-hover">
                      <thead>
                        <tr>
                          <td>
                            <strong>Ordinate</strong>
                          </td>
                          <td>
                            <strong>Abzisse</strong>
                          </td>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>
                            <div class="input-group">
                              <span class="input-group-text" id="basic-addon1"
                                >P0</span
                              >
                              <input
                                type="text"
                                class="form-control"
                                placeholder="0.00"
                                aria-label="Username"
                                aria-describedby="basic-addon1"
                              />
                            </div>
                          </td>
                          <td>
                            <div class="input-group">
                              <span class="input-group-text" id="basic-addon1"
                                >P0</span
                              >
                              <input
                                type="text"
                                class="form-control"
                                placeholder="0.00"
                                aria-label="Username"
                                aria-describedby="basic-addon1"
                              />
                            </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                    <div class="d-flex justify-content-center">
                      <div class="input-group d-flex justify-content-center">
                        <button
                          type="button"
                          id="plusRow"
                          class="btn btn-secondary"
                        >
                          <i class="bi bi-file-plus"></i>
                        </button>
                        <button
                          type="button"
                          id="minusRow"
                          class="btn btn-secondary"
                        >
                          <i class="bi bi-file-minus"></i>
                        </button>
                      </div>

                      <div class="input-group d-flex justify-content-center">
                        <button
                          type="button"
                          id="showGraph0"
                          class="btn btn-secondary"
                        >
                          <i class="bi bi-graph-up"></i>
                        </button>
                        <button
                          type="button"
                          id="dGraph0"
                          class="btn btn-secondary"
                        >
                          <i class="bi bi-trash2"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="stage-parent">
      <div id="container"></div>
    </div>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
      crossorigin="anonymous"
    ></script>
    <script id="debugging state" type="text/javascript">
      const debugging = false;
    </script>

    <script type="text/javascript" src="Scripts/konva.min.js"></script>
    <script type="text/javascript" src="Scripts/multithread.js"></script>
    <script type="text/javascript" src="Scripts/MeineFunktionen.js"></script>
    <script type="text/javascript" src="Scripts/read-csv.js"></script>
    <script type="text/javascript" src="Scripts/save.js"></script>
    <script src="Scripts/tool.js"></script>
    <script src="Scripts/ui.js"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
    -->
  </body>
</html>
